---
- name: "{{ service_name }} | Run Terraform Init"
  ansible.builtin.include_role:
    name: terraform
  vars:
    operation: init

- name: "{{ service_name }} | Run Terraform Apply"
  ansible.builtin.include_role:
    name: terraform
  vars:
    operation: apply

# - name: >-
#     (Alternative) Read definition file from the Ansible controller file system.
#     In this case, the definition file contains multiple YAML documents, separated by ---.
#     If the definition file has been encrypted with Ansible Vault it will automatically be decrypted.
#   kubernetes.core.k8s:
#     state: present
#     definition: "{{ lookup('file', '/testing/deployment.yml') | from_yaml_all }}"
